<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>public chat</title>
    <link rel="stylesheet" href="/all.min.css" />
    <link rel="stylesheet" href="/bootstrap.css" />
    <style>
      body {
        background-color: #f8f8f8;
      }

      .chat-bg {
        background-color: #f8f8f8;
      }

      #send-btn {
        right: 0.3rem;
        top: 0.3rem;
      }

      #chat-container {
        height: 300px;
        overflow-y: scroll;
      }

      .loader {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
    </style>
  </head>
  <body>
    <div class="loader">
      <div class="spinner-grow text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <div>
        <h1>Loading...</h1>
      </div>
    </div>

    <main class="d-none py-3">
      <h2 class="display-4 text-center">public chat</h2>
      <div class="container">
        <section
          class="col-lg-6 col-md-8 col-10 d-flex flex-column mx-auto p-4 rounded shadow-lg bg-white"
        >
          <div class="mb-1">
            <small>welcome <span id="user"></span></small>
            <br />
            <small
              >(<span id="online-sockets"></span> )
              <i class="fa-solid fa-circle fa-sm text-success"></i> online user
            </small>
          </div>
          <hr />
          <div class="mb-3" id="chat-container">
            <!-- <div
              data-message="true"
              id="message-component-from"
              class="chat-bg rounded p-2 w-75 mb-3"
            >
              <div class="d-flex flex-row justify-content-between">
                <small class="text-muted">ahmed</small>
                <small class="text-muted">from 3 minutes</small>
              </div>
              <p>where are you ?</p>
            </div>

            <div
              data-message="true"
              id="message-component-to"
              class="bg-primary text-white rounded p-2 w-75 mb-3"
            >
              <div class="d-flex flex-row justify-content-between">
                <small class="text-white">ahmed</small>
                <small>from 3 minutes</small>
              </div>
              <p class="mb-0">i am in my home</p>
            </div> -->
            <div
              class="w-100 h-100 d-flex flex-column align-items-center justify-content-center"
              id="no-message-placeholder"
            >
              <h3>there is no messages yet !</h3>
              <i class="fa-solid fa-face-frown fa-2xl mt-3"></i>
            </div>
          </div>

          <hr />

          <div id="send-wrapper">
            <form id="send-msg-form" onsubmit="emitMessage(event)">
              <div class="form-group position-relative">
                <input
                  name="msg"
                  type="text"
                  class="form-control rounded bg-light form-control-lg"
                  placeholder="type a message !"
                />
                <button class="btn btn-primary position-absolute" id="send-btn">
                  <i class="fa-solid fa-paper-plane"></i>
                </button>
              </div>
            </form>
          </div>
        </section>
      </div>
    </main>

    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="socket.js"></script>
    <script src="chat.js"></script>
  </body>
</html>
